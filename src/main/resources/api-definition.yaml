#%RAML 0.8
---
title: OpenLMIS Stock Management API
version: "@version@"
baseUri: "http://localhost:8080"

documentation:
    - title: Getting Started
      content: Welcome to the OpenLMIS Stock Management Service documentation.
schemas:
  - optionalFields: !include schemas/optionalFields.json

resourceTypes:
    - collection:
        get:
            responses:
                200:
                  description: Collection retrieved successfully
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
                  body:
                      application/json:
                          schema: <<schema>>
                404:
                  description: Collection is empty.
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
        post:
            body:
                application/json:
                    schema: <<schema>>
            responses:
                201:
                  description: Item created successfully
                  headers:
                    X-Content-Type-Options:
                    X-XSS-Protection:
                  body:
                      application/json:
                          schema: <<schema>>
    - member:
        get:
            responses:
                200:
                    body:
                        application/json:
                            schema: <<schema>>
        post:
            body:
                application/json:
                    schema: <<schema>>
            responses:
                200:
                    body:
                        application/json:
                            schema: <<schema>>
        delete:
            responses:
                200:

/api:
  /stock-management:

    /configuration:
        displayName: Configurations
        /optional-fields:
            get:
                description: Get optional fields
                queryParameters:
                  facilityType:
                    required: false
                  program:
                    required: false
                responses:
                  200:
                    description: |
                      Returns all available optional fields to choose from when no query parameters are passed.
                      Returns enabled optional fields that match facility type and program when query parameters are given.
                    headers:
                      X-Content-Type-Options:
                      X-XSS-Protection:
                    body:
                      application/json:
                        schema: optionalFields
                  404:
                    description: Optional fields config not found for the given query parameter.

            post:
                description: Create optional fields configuration for a facility-type&program combination.
                body:
                  application/json:
                    schema: optionalFields
                responses:
                  200:
                    description: Indicates that a new configuration has been created
                  400:
                    description: Indicats that validation failed while trying to create configuration.

        /min-stock:
          get:
          post:

    /stock-event:
        post:
          description: Create a new stock event
          responses:
            200:
              description: Stock event has been processed, corresponding stock movements have been created

    /stock-card:
        get:

